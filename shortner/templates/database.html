<!DOCTYPE html>
<html lang="en">

<head>
  <title>URL history</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="../static/styles.css" />
  <script>
    /* Removing flash messages */
    function removeFlash() {
      const element = document.getElementById("div_flash");
      element.remove();
    }

    setTimeout(function () {
      removeFlash();
    }, 4000);
  </script>
</head>

<body>
  <header>
    <h1><a href="/">URL Database</a></h1>
  </header>
  {% with messages = get_flashed_messages() %}
  {% if messages %}
  {% for message in messages %}
  <div style="font-size: 18px; color: red; padding: 10px;" id="div_flash">
    {{ message }}
    <input type="button" value="&#10006" onclick="removeFlash()" />
  </div>
  {% endfor %}
  {% endif %}
  {% endwith %}
  <table align="center" id="data_tbl">
    <thead>
      <th>Id</th>
      <th>Actual URL</th>
      <th>Short URL</th>
      <th>Actions</th>
    </thead>
    {% for data in url %}
    <tbody>
      <td>{{ data.id }}</td>
      <td>{{ data.actual_url }}</td>
      <td>{{ data.short_url }}</td>
      <td>
        <button type="submit">
          <a href="{{url_for('delete', id=data.id )}}" type="button">Delete</a>
        </button>
        <button type="submit">
          <a href="{{url_for('getqr', id=data.id )}}" type="button">Get QR Code</a>
        </button>
        <button type="submit">
          <a href="/copytoclipboard/{{data.id}}" type="button">Copy to clipboard</a>
        </button>
      </td>
    </tbody>
    {% endfor %}
  </table>
  <footer class="info">
    <span>
      Created in
      <img src="/static/images/linux_icon.svg" alt="terminal" height="32" width="32" />
      with
      <img src="/static/images/heart_icon.svg" alt="heart" height="32" width="32" />
      Checkout source code
      <a href="https://github.com/zootedb0t/url_shortner" target="_blank">
        <img id="animation" src="/static/images/git_icon.svg" alt="git" height="32" width="32" />
      </a>
    </span>
  </footer>
</body>

</html>
